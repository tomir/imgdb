!function(e){"use strict";app.viewModels.titles.show.activeEpisode=ko.observable(1),app.viewModels.titles.show.showEpisodeModal=function(s){var i=this,s=parseInt(s);vars.links[s][0]&&(i.activeEpisode(s),i.renderTab(vars.links[s][0].id,vars.links[s][0].url,vars.links[s][0].type,700)),e("#stream-modal").modal("toggle")},app.viewModels.titles.show.renderTab=function(s,i,t,a){var r=e("#videos .tab-content"),l=a?a:500;e("#videos .nav-tabs > li").removeClass("active"),e("#"+s).addClass("active"),e("#vidjs").length>0&&videojs("vidjs").dispose(),"embed"==t?r.html('<iframe width="100%" height="'+l+'px" frameborder="0" src="'+i+'" scrolling="no"></iframe>'):"video"==t?(r.html('<video id="vidjs" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" width="100%" height="'+l+'px"> </video>'),-1!=i.indexOf("youtube")?videojs("vidjs",{techOrder:["youtube"]}).src(i).play():videojs("vidjs",{techOrder:["html5","flash"]}).src(i).play()):r.html('<a href="'+i+'">'+i+"</a>")},app.viewModels.titles.show.report=function(e){app.utils.ajax({url:vars.urls.baseUrl+"/links/report",data:ko.toJSON({_token:vars.token,link_id:e}),success:function(e){app.utils.noty(e,"success")},error:function(e){app.utils.noty(e.responseJSON,"error")}})},app.viewModels.titles.show.showTrailer=function(){var s=e("#trailer-mask");"default"==vars.trailersPlayer?s.html('<div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" src="'+s.data("src")+'?autoplay=1&iv_load_policy=3&modestbranding=1" wmode="opaque" allowfullscreen="true"></iframe></div>'):(-1!=s.data("src").indexOf("youtube")?videojs("trailer",{techOrder:["youtube"]}).src(s.data("src")).play():videojs("trailer",{techOrder:["html5","flash"]}).src(s.data("src")).play(),s.css("display","none"),e("#trailer").css("display","block"))},app.viewModels.titles.show.start=function(s){var i=app.viewModels.titles.show;s&&i.renderTab(s.id,s.url,s.type),e.each(vars.lists,function(e,s){s.title_id==vars.titleId&&s.watchlist&&i.watchlist(!0),s.title_id==vars.titleId&&s.favorite&&i.favorite(!0)}),app.startGallery();var t=e("#details-container").height();e("#details-container .img-responsive").height(t),app.loadDisqus()}}(jQuery);